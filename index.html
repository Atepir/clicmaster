<!-- Clic Master -->

<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="UTF-8">
    <title>Clic Master</title>
</head>
<body>

<!-- Creating the banner -->

<div class="home">
    <img src="" alt="icone et nom">
    <label id="dedicace">Dedicated to my sweetheart Flore Kabré</label>
    <label id="consignes">Cliquez autant de fois que possible, vous aurez 10 secondes.</label>
    <input type="button" class="leaderboard-btn" value="Meilleurs Scores">
    <input type="button" class="share" value="Partager">
    <button class="begin" onclick="start()">Commencer</button>
</div>

<!-- Creating the game -->

<div class="game">

    <!-- Timeout -->

    <label id="timeout"></label>

    <!-- Score display -->

    <label id="score">0</label>

    <!-- Click-area -->

    <div onclick="increaseScore()" id="click-area" class="click-area"><br><br><br></div>

    <script type="text/javascript">

        var nb = 10;

        setInterval(function () {
            document.getElementById('timeout').innerHTML = nb.toFixed(2);
            if (nb > 0.001){
                nb -= 0.001;
            }else{
                // Then it's the end
                document.getElementById('timeout').innerHTML = "Temps écoulé !";

                document.getElementById('click-area').hidden = true;
                saving(score);
                return 0;
            }
        }, 1);

        var score = 1;

        function increaseScore() {
            document.getElementById('click-area').classList.toggle('clicked-area');
            document.getElementById('score').innerHTML = score;
            score++;
        }

        function savingScore(score, name) {
            var min_high_score = 0;
            if (score > min_high_score){
                // The score deserves to be saved to the table

                showHighScoreNotif();
                showHighScoreTable();
            }else{
                // Show High Score Table, Restart Button and Sharing One

                showHighScoreTable();
            }
        }

        function saving(score) {
            if (document.getElementById('click-area').hidden === true){
                console.log("Score =", score-1);
            }
            return 0;
        }

    </script>

    <?php

    $bdd = new PDO('mysql:host=localhost;dbname=id13398134_score;charset=utf8', 'id13398134_flore', 'Geraragordicres12.');

    $req_min = "SELECT score FROM score WHERE score=min(SELECT * FROM score)";

    $bdd->exec($req_min);

    ?>

</div>

<!-- Creating High Score System -->

<div class="leaderboard">

    <!-- Registering the new High Score winner -->

    <input type="button" hidden onclick="savingScore(score, name)">

    <!-- Leaderboard will be saved to a database -->



</div>

<!-- Sharing the game via social networks -->

<div class="sharing">



</div>

</body>
</html>